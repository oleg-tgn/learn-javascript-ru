<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <!-- подключаем стили Mocha, для отображения результатов -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.css">
    <!-- подключаем библиотеку Mocha -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.js"></script>
    <!-- настраиваем Mocha: предстоит BDD-тестирование -->
    <script>
        mocha.setup('bdd');
    </script>

    <!-- подключаем chai -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/2.0.0/chai.js"></script>
    <!-- в chai есть много всего, выносим assert в глобальную область -->
    <script>
        var assert = chai.assert;
    </script>
</head>

<body>
<script>
    'use strict';

    var str = "Ослик Иа-Иа посмотрел на виадук";
    var target = "Иа";

    function foundAllPositions(str, target) {
        var pos = 0;
        var positions = [];
        while (true) {
            var foundPos = str.indexOf(target, pos);

            positions.push(foundPos);

            if (foundPos == -1) break;
            pos = foundPos + 1;
        }
        return positions;
    }

    var result = foundAllPositions(str, target);
    for (var i = 0; i < result.length; i++) {
        alert( result[i] );
    }
</script>


<!-- в этом скрипте находятся спеки -->
<script src="string-example-7-test.js"></script>

<!-- в элементе с id="mocha" будут результаты тестов -->
<div id="mocha"></div>

<!-- запустить тесты! -->
<script>
    mocha.run();
</script>
</body>
</html>